<ion-segment
  [value]="value?.id"
  [scrollable]="disableChangeOnSwipe || mode !== 'default'"
  (ionChange)="onSegmentSelect($event.detail.value)"
  (click)="preventOutsideClick($event)"
  [disabled]="isDisabled"
>
  <ion-segment-button
    *ngFor="let item of items; let i = index"
    [value]="item.id"
    [attr.tabindex]="getTabIndex(item, i)"
    (click)="focusNativeButton($event)"
  >
    {{ item.text }}
    <kirby-badge
      *ngIf="item.badge"
      role="text"
      [attr.aria-label]="item.badge.description"
      [themeColor]="item.badge.themeColor"
    >
      <ng-container *ngIf="item.badge.icon; else badgeContent">
        <kirby-icon [name]="item.badge.icon"></kirby-icon>
      </ng-container>
      <ng-template #badgeContent>
        {{ item.badge.content }}
      </ng-template>
    </kirby-badge>
  </ion-segment-button>
</ion-segment>
